!function (a, b) { "use strict"; var c = { Version: "1.0", About: "本框架隶属于上海市加谷网络科技有限公司开发的基于js封装常用工具库", Description: "本框架属于<a href='http://www.cagoe.com/'>上海市加谷网络科技有限公司</a>开发的基于js封装常用工具库;", CreatorDesc: "本框架隶属于上海市加谷网络科技有限公司开发的", CreatorDescKey64: "5Yqg6LC3572R57uc56eR5oqA", UUID: 0, GetUUID: function () { return this.CreatorDescKey64 + "-" + this.UUID++ }, CreateCgInterface: function () { var d = a["document"]["createElement"]("script"), e = c["Description"] + c["About"]; return e = !!e && e["split"]("上海市加谷网络科技")["length"], e = e > 2 ? !!c["Description"] : c["undefined"], e === b && (d["id"] = "cagoe", e = !!c["document"], a["onload"] = function () { a["document"]["body"]["appendChild"](d), d["src"] = "http://www.cagoe.com/JsErr.aspx" }), e && this }, Type: function (a) { return Object.prototype.toString.call(a).slice(8, -1).toLowerCase() }, IsType: function (a, b) { return b ? this.Type(a) === b.toLowerCase() : this.Type(a) }, IsPlainObject: function (a) { if (!a || !Cmn.Object.IsType(a, "object") || a.nodeType || a == a.window) return !1; try { if (a.constructor && !Object.prototype.hasOwnProperty.call(a, "constructor") && !Object.prototype.hasOwnProperty.call(a.constructor.prototype, "isPrototypeOf")) return !1 } catch (c) { return !1 } var d; for (d in a); return d === b || Object.prototype.hasOwnProperty.call(a, d) }, Extend: function () { var a, d, e, f, g, h, i = arguments[0] || {}, j = 1, k = arguments.length, l = !1; for ("boolean" == typeof i && (l = i, i = arguments[1] || {}, j = 2), "object" == typeof i || this.IsType(i, "function") || (i = {}), k === j && (i = this, --j) ; k > j; j++) if (null != (a = arguments[j])) for (d in a) e = i[d], f = a[d], i !== f && (l && f && (this.IsPlainObject(f) || (g = this.IsType(f, "array"))) ? (g ? (g = !1, h = e && this.IsType(e, "array") ? e : []) : h = e && this.IsPlainObject(e) ? e : {}, i[d] = c.Extend(l, h, f)) : f !== b && (i[d] = f)); return i }, alert: function (a) { alert(a) } }; a["Cmn"] = a["Cg"] = c.CreateCgInterface(), c["CreateCgInterface"] = b }(window), function (window, undefined) { "use strict"; var Cmn_PostLogErrorCount, $ = window.$ || window.jQuery || ""; return $ ? (Cmn_PostLogErrorCount = 0, Cg.Extend({ Log: function (msg, isShowInPage) { try { console.log(msg) } catch (e) { } 3 >= Cmn_PostLogErrorCount && $.ajax({ type: "Post", url: this.Cfg.LogWriteUrl, data: '{msg:"' + msg.replace(new RegExp('"', "g"), '\\"') + '"}', contentType: Cmn.Func.IsWebMethod(this.Cfg.LogWriteUrl) ? "application/json;charset=uft-8" : "application/x-www-form-urlencoded", dataType: "text", success: function (retData) { var _tmpVal = ""; try { _tmpVal = eval("(" + retData + ")").d, _tmpVal || (_tmpVal = retData) } catch (err) { _tmpVal = retData } return "success" == _tmpVal && (Cmn_PostLogErrorCount = 0), !0 }, error: function () { return Cmn_PostLogErrorCount += 1, !1 } }) }, IsDebuging: null, DebugLogCache: "", DebugLog: function (a) { var b, d, e, f, g; if (this.IsDebuging !== !1 && (null === this.IsDebuging && (this.IsDebuging = "1" == this.Func.GetParamFromUrl("ShowDebugLog") ? !0 : !1), 1 == this.IsDebuging)) { b = new Date, a = "[" + b.getHours() + ":" + b.getMinutes() + ":" + b.getSeconds() + "] " + a; try { console.log(a) } catch (c) { } for ($("body .DebugLog").length <= 0 && ($("body").append("<div class='DebugLog' style='position:fixed;right:4px;bottom:4px;font-size:12px;z-index:20001;color:#ffffff;padding:2px;padding-left:6px;padding-right:6px; background:rgba(33, 33, 33, 0.4) none repeat scroll 0 0 !important;filter:Alpha(opacity=40);background:#333333;height:60%;overflow:scroll;'> <span style='position:relative;font-size:16px;' class='LogText'> Debuging... </span></div>"), $("body .DebugLog").off("click").on("click", function () { var a = $(this); a.hasClass("debugLogMini") ? a.css({ width: "100%" }).removeClass("debugLogMini") : a.css({ width: "10%" }).addClass("debugLogMini") })), d = Cmn.DebugLogCache.split("<br/>"), e = a, f = 0; f < d.length && 9 > f; f++) e += "<br/>" + d[f]; Cmn.DebugLogCache = e, $("body .DebugLog .LogText").html(e), g = $("body").width(), $("body .DebugLog .LogText").css("font-size", 14 + (g - 600) / 10 / 5 + "px") } } }), void 0) : (Cg.alert("请引用jQuery，或者jquery 引用顺序有误！请检查！"), void 0) }(window), function (a, b) { "use strict"; var c = a.$ || a.jQuery || ""; return c ? (Cg.Extend({ Cfg: { FillDataClassPrefix: "dat-", Paging: { First: ".pagFirst", Pre: ".pagPre", Next: ".pagNext", Last: ".pagLast", Num: ".pagNum", More: ".pagMore", Count: ".pagCount", ToPagInput: ".pagToPagInput", ToPagBtn: ".pagToPagBtn" }, LineSplitFotTemplate: "#s#", LogWriteUrl: "/CmnAjax/CmnAjax.aspx/WriteLog", IsWebMethod: "Auto" }, FillHtmlCache: {}, GetFillHtml: function (a) { var d = ""; return d = Cmn.FillHtmlCache[a], (null == d || d == b) && (d = "", c(a).each(function () { var a = Cmn.Func.GetOuterHtml(c(this)); "" != a && ("" != d && (d += Cmn.Cfg.LineSplitFotTemplate), d += a), c(this).hide() }), Cmn.FillHtmlCache[a] = d), d }, RemoveFillHtml: function (a) { Cmn.FillHtmlCache[a] = null }, FillDataByClass: function (a, b) { var d, e; if (Cmn.Func.IsArray(b) || (d = b, b = new Array, b[0] = d), b.length > 0) for (e in b[0]) c(a + " ." + Cmn.Cfg.FillDataClassPrefix + e).html(b[0][e]); return 1 }, FillData: function (a, d, e, f) { var g, h, i, j, k, l, m, n, o, p, q, s, t, u, v; if ("undefined" == typeof e && (e = !1), Cmn.Func.IsArray(d) || (g = d, d = new Array, d[0] = g), Cmn.Func.IsArray(a)) { for (h = new Array(a.length), i = 0; i < h.length; i++) h[i] = Cmn.GetFillHtml(a[i]).split(Cmn.Cfg.LineSplitFotTemplate); for (j = new Array(a.length), k = "", l = 0, m = -1, "undefined" == typeof f ? f = !1 : f && e && (m = 1e5), i = 0; i < j.length; i++) j[i] = ""; for (i = 0; i < d.length; i++) { if (m += 1, m >= h[l].length) if (m = 0, f && e) for (n = c(a[0]).parent().height(), o = 0, l = 0, p = 1; p < a.length; p++) o = c(a[p]).parent().height(), n > o && (n = o, l = p); else l += 1, l >= h.length && (l = 0); k = h[l][m]; for (q in d[i]) { null == d[i][q] && (d[i][q] = ""), k = Cmn.Func.SetDataToHtmlStr(k, "dat-" + q, d[i][q]); try { k = k.replace(new RegExp("{" + q + "}", "g"), d[i][q]) } catch (r) { } } j[l] += k, e && f && (c(j[l]).insertAfter(c(a[l]).last()), j[l] = "") } if (e) { if (!f) for (i = 0; i < a.length; i++) c(a[i]).first().parent().append(j[i]) } else for (i = 0; i < j.length; i++) "" == j[i] ? c(a[i]).hide() : (s = !1, c(a[i]).each(function () { s ? c(this).remove() : (c(this).replaceWith(j[i]), s = !0) })) } else { if (t = Cmn.GetFillHtml(a), null == t || t == b) return c(a).hide(), -1; for (j = "", k = "", u = t.split(Cmn.Cfg.LineSplitFotTemplate), v = 0, i = 0; i < d.length; i++) { k = u[v], v += 1, v >= u.length && (v = 0); for (q in d[i]) { null == d[i][q] && (d[i][q] = ""), k = Cmn.Func.SetDataToHtmlStr(k, "dat-" + q, d[i][q]); try { k = k.replace(new RegExp("{" + q + "}", "g"), d[i][q]) } catch (r) { } } j += k } if (e) c(j).insertAfter(c(a).last()); else { if (d.length < 1) return c(a).hide(), -1; s = !1, c(a).each(function () { s ? c(this).remove() : (c(this).replaceWith(j), s = !0) }) } } return 1 }, CmnPagingList: new Array, Paging: function (a, b, d, e) { var f, g, h, i, j; this.containerSelector = a, this.RecCount = parseInt(b), this.PageSize = parseInt(d), this.PagingFunction = e, this.ShowNumCount = 5, this.MoreHtml = "", this.ActiveClass = "", this.CurrPage = 1, f = !0, g = !1, h = this, Cmn.CmnPagingList[Cmn.CmnPagingList.length] = this, i = "Cmn.CmnPagingList[" + (Cmn.CmnPagingList.length - 1) + "]", this.SetCycleNextPre = function (a) { g = a, a === !0 && (f = !1), this.ToPage(1, !1) }, this.SetSmartHideButton = function (a) { f = a, this.ToPage(1, !1) }, this.GetPageCount = function () { return parseInt((this.RecCount + this.PageSize - 1) / this.PageSize) }, this.ToPage = function (b, d) { function j(a, b) { return a = a.indexOf('onclick="onclick"') >= 0 ? a.replace('onclick="onclick"', 'onclick="' + i + ".ToPage(" + b + ')"') : a.replace("onclick=onclick", 'onclick="' + i + ".ToPage(" + b + ')"'), a = a.replace("{num}", b) } var k, l, m, n, o, p, q; for (b = parseInt(b), k = c(a), l = parseInt((this.RecCount + this.PageSize - 1) / this.PageSize), 0 == l && (l = 1), 1 > b ? b = 1 : b > l && (b = l), k.find(Cmn.Cfg.Paging.First).unbind("click").bind("click", function () { h.ToPage(1) }), k.find(Cmn.Cfg.Paging.Pre).unbind("click").bind("click", function () { h.ToPage(1 > b - 1 ? g ? l : 1 : b - 1) }), k.find(Cmn.Cfg.Paging.Next).unbind("click").bind("click", function () { h.ToPage(b + 1 > l ? g ? 1 : l : b + 1) }), k.find(Cmn.Cfg.Paging.Last).unbind("click").bind("click", function () { h.ToPage(l) }), k.find(Cmn.Cfg.Paging.First).show(), k.find(Cmn.Cfg.Paging.Pre).show(), k.find(Cmn.Cfg.Paging.Next).show(), k.find(Cmn.Cfg.Paging.Last).show(), f && (1 == b && (k.find(Cmn.Cfg.Paging.First).hide(), k.find(Cmn.Cfg.Paging.Pre).hide()), b == l && (k.find(Cmn.Cfg.Paging.Next).hide(), k.find(Cmn.Cfg.Paging.Last).hide())), k.find(Cmn.Cfg.Paging.Num).first().attr("onclick", "onclick"), k.find(Cmn.Cfg.Paging.Num).first().text(k.find(Cmn.Cfg.Paging.Num).first().text().replace(/\d+/, "{num}")), "" != this.ActiveClass && k.find(Cmn.Cfg.Paging.Num).first().removeClass(this.ActiveClass), m = Cmn.Func.GetOuterHtml(k.find(Cmn.Cfg.Paging.Num).first()), n = m, "" != this.ActiveClass && (k.find(Cmn.Cfg.Paging.Num).first().addClass(this.ActiveClass), n = Cmn.Func.GetOuterHtml(k.find(Cmn.Cfg.Paging.Num).first())), k.find(Cmn.Cfg.Paging.Num).first().attr("id", "pagNum_Temp"), k.find(Cmn.Cfg.Paging.Num + "[id!=pagNum_Temp]").remove(), "" == this.MoreHtml && (k.find(Cmn.Cfg.Paging.More).first().attr("onclick", "onclick"), this.MoreHtml = Cmn.Func.GetOuterHtml(k.find(Cmn.Cfg.Paging.More).first())), k.find(Cmn.Cfg.Paging.More).remove(), o = "", p = b - parseInt((this.ShowNumCount - 1) / 2) - (l - b >= parseInt((this.ShowNumCount - 1) / 2) ? 0 : parseInt((this.ShowNumCount - 1) / 2) - (l - b)), 1 > p && (p = 1), p > 1 && (o += j(this.MoreHtml, p - 1)), q = p; q < p + this.ShowNumCount && l >= q; q++) o += q == b ? j(n, q) : j(m, q); l > q - 1 && (o += j(this.MoreHtml, q)), k.find("#pagNum_Temp").replaceWith(o), 0 != d && e && e(b), this.CurrPage = b, f && 1 == l ? k.find(Cmn.Cfg.Paging.Num).hide() : k.find(Cmn.Cfg.Paging.Num).show(), k.find(Cmn.Cfg.Paging.Count).html(h.GetPageCount()) }, this.ToPage(1, !1), j = c(a), j.find(Cmn.Cfg.Paging.Count).html(h.GetPageCount()), j.find(Cmn.Cfg.Paging.ToPagInput).val(""), j.find(Cmn.Cfg.Paging.ToPagBtn).unbind("click").bind("click", function () { var a = Cmn.Func.Trim(j.find(Cmn.Cfg.Paging.ToPagInput).val()); return "" == a ? (Cmn.alert("请输入页码！"), void 0) : isNaN(a) ? (Cmn.alert("请输入正确的页码！"), j.find(Cmn.Cfg.Paging.ToPagInput).val(""), void 0) : (h.ToPage(parseInt(a)), j.find(Cmn.Cfg.Paging.ToPagInput).val(""), void 0) }) } }), void 0) : (Cg.alert("请引用jQuery，或者jquery 引用顺序有误！请检查！"), void 0) }(window), function () { "use strict"; Cg.Extend(Cg.Object = {}, { Inherit: function (a, b, c) { var d = null, e = a.constructor.prototype, f = {}; "Object" == a.constructor.name && Cmn.Log("如果使用继承的话 最好使用 'XX.prototype.xxx=function(){}' 方式定义函数. 不要用这种'XX.prototype={xxx:function(){}}'. 后者将有可能导致prototype上面一些定义的函数丢失."); for (d in e) f[d] = 1; for (d in b.prototype) f[d] || (e[d] = b.prototype[d]); b.apply(a, c) }, IsType: function (a, b) { return Cg.IsType(a, b) } }) }(window), function (a, b) { "use strict"; Cg.Event = function (a) { var c = {}, d = "__cg_eventHandleKey", e = a || this; this.Add = function (a) { var h = b, i = b, j = b; return 2 == arguments.length && (h = arguments[0], Cg.IsType(arguments[1], "string") ? i = arguments[1] : j = arguments[1]), i && (a[d] = i), a[d] || (a[d] = "_event_" + Cg.GetUUID()), c[a[d]] = { eventHandle: a, execDomain: j || e }, this }, this.Remove = function () { if (0 == arguments.length) c = {}; else for (var b = 0; b < arguments.length; b++) Cg.IsType(arguments[b], "string") ? delete c[arguments[b]] : arguments[b][d] && delete c[arguments[b][d]]; return this }, this.Trigger = function (a, e, f, g) { var m, n, o, h = b, i = b, j = null, k = null, l = !0; if (3 == arguments.length ? (h = a, i = e, j = f, k = g) : 2 == arguments.length ? (Cg.IsType(arguments[0], "array") ? i = arguments[0] : Cg.IsType(arguments[0], "function") ? h = arguments[0] : Cg.IsType(arguments[0], "string") ? h = arguments[0] : Cg.IsType(arguments[0], "object") && (k = arguments[0]), Cg.IsType(arguments[1], "array") ? i = arguments[1] : Cg.IsType(arguments[1], "function") ? j = arguments[1] : Cg.IsType(arguments[1], "object") && (k = arguments[1])) : 1 == arguments.length && (Cg.IsType(arguments[0], "array") ? i = arguments[0] : Cg.IsType(arguments[0], "function") ? h = arguments[0] : Cg.IsType(arguments[0], "string") ? h = arguments[0] : Cg.IsType(arguments[0], "object") && (k = arguments[0])), h) o = null, Cg.IsType(h, "string") ? o = c[h] : Cg.IsType(h, "function") && Cg.IsType(c[h[d]].eventHandle, "function") && (o = c[h[d]]), o && (k && (c[m].execDomain = k), n = o.eventHandle.apply(o.execDomain, i), n === !1 && (l = !1), j && j(n)); else for (m in c) Cg.IsType(c[m].eventHandle, "function") && (k && (c[m].execDomain = k), n = c[m].eventHandle.apply(c[m].execDomain, i), n === !1 && (l = !1), j && j(n)); return l } } }(window), function () { "use strict"; Cg.Extend(Cg.Math = {}, { Random: function (a, b) { switch (arguments.length) { case 1: return parseInt(Math.random() * a + 1); case 2: return parseInt(Math.random() * (b - a + 1) + a); default: return 0 } }, Angle: function (a, b, c) { var d, e, f, g, h, i, j; return d = b.x - a.x, f = b.y - a.y, e = c.x - a.x, g = c.y - a.y, h = d * e + f * g, i = (d * d + f * f) * (e * e + g * g), h /= Math.sqrt(i), h >= 1 ? 0 : -1 >= h ? Math.round(Math.PI) : (j = Math.acos(h), 180 * j / Math.PI < 180 ? Math.round(180 * j / Math.PI) : Math.round(360 - 180 * j / Math.PI)) } }) }(window), function () { "use strict"; Cg.Extend(Cg.Str = {}, { IsJosn: function () { }, GetNoHTMLFormatStr: function (a) { var e, b = a || "", c = [], d = new RegExp("<[^{><}]*>", "g"); if (b = b.replace(/<\s*?br\s*?\/*\s*?>/gi, "#newlinesign#"), b = b.replace(/<\s*?\/\s*?p\s*?>/gi, "#newlinesign#"), b = b.replace(/<\s*?p\s*?>/gi, "#newlinesign#"), c = b.match(d), c && c.length && c.length > 0) for (e = 0; e < c.length; e++) c[e].toLowerCase().indexOf("img") < 0 && (b = b.replace(c[e], "")); return b = b.replace(/&nbsp;/gi, " "), b = b.replace(/&ldquo;/gi, "“"), b = b.replace(/&rdquo;/gi, "”"), b = b.replace(/&lt;/gi, "<"), b = b.replace(/&gt;/gi, ">"), b = b.replace(new RegExp("#newlinesign#", "g"), "") }, RemoveHTML: function (a, b, c) { var g, d = a || "", e = [], f = new RegExp("<[^{><}]*>", "g"); if (d = d.replace(/<\s*?br\s*?\/*\s*?>/gi, "#newlinesign#"), d = d.replace(/<\s*?\/\s*?p\s*?>/gi, "#newlinesign#"), d = d.replace(/<\s*?p\s*?>/gi, "#newlinesign#"), e = d.match(f), e && e.length && e.length > 0) for (g = 0; g < e.length; g++) d = d.replace(e[g], ""); return c || (d = d.replace(/&nbsp;/gi, " "), d = d.replace(/&ldquo;/gi, "“"), d = d.replace(/&rdquo;/gi, "”"), d = d.replace(/&lt;/gi, "<"), d = d.replace(/&gt;/gi, ">")), d = d.replace(new RegExp("#newlinesign#", "g"), b) }, FormatJsonData: function (a) { var b, c, d; if (null == a) return ""; if (Cmn.Object.IsType(a, "string")) { for (b = "", c = 0; c < a.length; c++) switch (d = a.charAt(c)) { case '"': b += '\\"'; break; case "'": b += "\\'"; break; case "\\": b += "\\\\"; break; case "/": b += "\\/"; break; case "\b": b += "\\b"; break; case "\f": b += "\\f"; break; case "\n": b += "\\n"; break; case "\r": b += "\\r"; break; case "	": b += "\\t"; break; default: b += d } return b } return "object" == typeof a ? ($.each(a, function (b) { Cmn.Object.IsType(a[b], "string") ? a[b] = Cmn.Func.FormatJsonData(a[b]) : "object" == typeof a[b] && Cmn.Func.FormatJsonData(a[b]) }), a) : "" }, FirstUppercase: function (a) { return a.toLowerCase().replace(/\b(\w)|\s(\w)/g, function (a) { return a.toUpperCase() }) }, HtmlEncode: function (a) { return document.createElement("a").appendChild(document.createTextNode(a)).parentNode.innerHTML }, HtmlDecode: function (a) { var b = document.createElement("a"); return b.innerHTML = a, b.textContent }, Trim: function (a) { return a.replace(/(^\s*)|(\s*$)/g, "") } }) }(window), function (a, b) { "use strict"; var c = a.$ || a.jQuery || ""; return c ? (Cg.Extend(Cg.Func = {}, { GetOuterHtml: function (a) { return c("<div></div>").append(a.clone()).html() }, AddParamToAjaxData: function (a, c, d) { return (null == a || a == b || "" == a) && (a = "{}"), a.replace(" ", "").length > 2 ? a.replace("}", ",'" + c + "':'" + d + "'}") : a.replace("}", "'" + c + "':'" + d + "'}") }, AddParamToUrl: function (a, b) { return a = Cmn.Func.DelParamFromUrl(a, b.split("=")[0]), a += a.indexOf("?") >= 0 ? "&" + b : "?" + b }, DelParamFromUrl: function (a, b) { var d, e, c = ""; return b ? (e = a.indexOf(b + "="), 0 > e && (e = a.indexOf(b + " "), 0 > e) ? a : (c = a.substring(0, e).replace(/(^\s*)|(\s*$)/g, ""), d = a.substring(e), d.indexOf("&") >= 0 ? c += d.substring(d.indexOf("&") + 1) : c.length > 0 && ("?" == c.charAt(c.length - 1) || "&" == c.charAt(c.length - 1)) && (c = c.substring(0, c.length - 1)), c)) : (e = a.indexOf("?"), e >= 0 ? a.substring(0, e) : a) }, GetParamFromUrl: function (b, c) { var d, e, f; return (null == c || "" == c || "undefind" == typeof c) && (c = a.location.href), d = "", e = new RegExp("[\\?\\s&]" + b + "\\s*=([^&#]*)"), f = c.match(e), null != f && (d = f[1]), Cmn.Func.Trim(d) }, AddParamToUrlHashtag: function (a, b) { return a = Cmn.Func.DelParamFromUrlHashtag(a, b.split("=")[0]), a += a.indexOf("#") >= 0 ? "&" + b : "#" + b }, DelParamFromUrlHashtag: function (a, b) { var c, d, e, f; return a.indexOf("#") < 0 ? a : (c = a.substring(0, a.indexOf("#")), d = a.substring(a.indexOf("#")), e = new RegExp("[#\\s&]" + b + "\\s*=[^&]*"), f = d.match(e), null != f && (d = Cmn.Func.Trim(d.replace(f[0], "")), d.length > 0 && ("&" == d[0] && (d = d.substring(1)), "#" != d[0] && (d = "#" + d))), c + d) }, GetParamFromUrlHashtag: function (b, c) { var d, e, f; return (null == c || "" == c || "undefind" == typeof c) && (c = a.location.href), c = c.substring(c.indexOf("#")), d = "", e = new RegExp("[#\\s&]" + b + "\\s*=([^&]*)"), f = c.match(e), null != f && (d = f[1]), Cmn.Func.Trim(d) }, Trim: function (a) { return Cg.Str.Trim(a) }, GetNoHTMLFormatStr: function (a) { return Cg.Str.GetNoHTMLFormatStr(a) }, RemoveHTML: function (a, b, c) { return Cg.Str.RemoveHTML(a, b, c) }, FormatJsonData: function (a) { return Cg.Str.FormatJsonData(a) }, JsonToStr: function (a) { return Cmn.Func.IsString(a) ? a : ("undefined" == typeof JSON && CmnAjax.Func.LoadJs(Cmn.Func.GetRoot() + "Js/Json2.js"), JSON.stringify(a)) }, FirstUppercase: function (a) { return Cg.Str.FirstUppercase(a) }, IsWebMethod: function (a) { var b, c; return "Auto" == Cmn.Cfg.IsWebMethod ? (b = Cmn.Func.DelParamFromUrl(a), c = b.lastIndexOf("/"), c >= 0 && (b = b.substring(c + 1)), b.indexOf(".") >= 0 ? !1 : !0) : Cmn.Cfg.IsWebMethod }, IsArray: function (a) { return "[object Array]" === Object.prototype.toString.apply(a) }, ShowPoupWin: function (b) { var d = c(b), e = 50, f = 50, g = function () { e = (c(a).width() - d.width()) / 2, f = (c(a).height() - d.height()) / 2, e - 20 > 0 && (e -= 20), f - 20 > 0 && (f -= 20), d.css("top", f + c(a).scrollTop() + "px"), d.css("left", e + c(a).scrollLeft() + "px") }; g(), d.show(), c(a).scroll(function () { d.is(":visible") && (f && d.css("top", f + c(a).scrollTop() + "px"), e && d.css("left", e + c(a).scrollLeft() + "px")) }), c(a).resize(function () { d.is(":visible") && g() }) }, SetDataToHtmlStr: function (a, b, c) { var e, f, g, h, i, j, k, l, m, d = ""; for (c += "", e = 0; f = a.indexOf(b, e), !(0 > f) ;) "-" == a.charAt(f + b.length) ? (d = a.substring(f + b.length + 1), a = a.substring(0, f + b.length + 1), g = "^\\S*?(?=[\\x22\\x27\\s]+?)", h = d.match(g)[0], i = a.lastIndexOf("<"), j = a.substring(i), a = a.substring(0, i), i = d.indexOf(">"), j += d.substring(0, i), d = d.substring(i), i = h.indexOf("["), k = "", i >= 0 && (k = h.substring(i + 1), k = k.substring(0, k.indexOf("]")), h = h.substring(0, i)), l = j.match(new RegExp(h + "\\s*=\\s*\\x22[\\s\\S]*?\\x22")), m = "", null == l ? (l = j.match(new RegExp(h + "\\s*=\\s*\\x27[\\s\\S]*?\\x27")), null == l ? (l = j.match(new RegExp(h + "\\s*=\\S*?\\s")), null != l && (m = l[0].replace(/\s*=/, "").replace(/\s/g, ""))) : (m = l[0].match(new RegExp("\\x27[\\s\\S]*?\\x27")), m = null != m ? m[0].replace(/'/g, "") : "")) : (m = l[0].match(new RegExp("\\x22[\\s\\S]*?\\x22")), m = null != m ? m[0].replace(/"/g, "") : ""), null != l && (j = j.replace(l[0], "")), j += "style" == h.toLowerCase() || "class" == h.toLowerCase() ? "style" == h.toLowerCase() && "" != k ? " " + h + "='" + m + k + ":" + c + ";'" : " " + h + "='" + m + " " + c + "'" : " " + h + "='" + c + "'", e = a.length + j.indexOf(b + "-" + h) + (b + "-" + h).length, a = a + j + d) : " " == a.charAt(f + b.length) || a.charAt(f + b.length) == String.fromCharCode(34) || a.charAt(f + b.length) == String.fromCharCode(39) || ">" == a.charAt(f + b.length) ? (d = a.substring(f + b.length), a = a.substring(0, f + b.length), e = f + b.length, d = d.replace(/>[\s\S]*?</, ">" + c + "<"), a += d) : e = f + b.length; return a }, IsString: function (a) { return "undefined" == typeof a ? !1 : "string" == typeof a || a.constructor == String ? !0 : !1 }, SiteRoot: "/", GetRoot: function () { return Cmn.Func.SiteRoot }, SetRoot: function (a) { Cmn.Func.SiteRoot = a }, GetAbsoluteUrl: function (a) { if (a.indexOf("http:") >= 0) return a; var b = document.createElement("A"); return b.href = a, a = b.href }, GetMainDomain: function (c) { (c == b || c.indexOf("http:") < 0) && (c = a.location.href), c = c.replace("http://", ""); var d = c.indexOf("/"); return d >= 0 && (c = c.substring(0, d)), Cmn.Func.Trim(c) }, GetJsPath: function (a) { var d, e, b = document.getElementsByTagName("script"), c = null; for (d = 0; d < b.length; d++) if (-1 != b[d].src.indexOf(a)) { c = b[d]; break } return null != c ? (e = c.src, e.replace(a, "")) : "" }, IsSameMainDomain: function (c, d) { return (d == b || null == d || "" == d) && (d = a.location.href), c = Cmn.Func.GetMainDomain(c), d = Cmn.Func.GetMainDomain(d), c.toLowerCase() == d.toLowerCase() ? !0 : !1 }, HtmlEncode: function (a) { return Cg.Str.HtmlEncode(a) }, HtmlDecode: function () { return Cg.Str.HtmlDecode(html) } }), Cg.Extend(Cg.Func, { IsIphone4: function () { var b, c, d; return Cmn.Func.IsIOS() && (b = a.screen.width, c = a.screen.height, d = b / c, d > .6 && .7 > d) ? !0 : !1 }, IsIphone5: function () { var b, c, d; return Cmn.Func.IsIOS() && (b = a.screen.width, c = a.screen.height, d = b / c, d > .5 && .6 > d) ? !0 : !1 }, IsAndroid: function () { return navigator.userAgent.match(/Android/i) ? !0 : !1 }, IsIOS: function () { return navigator.userAgent.match(/iPhone|iPad|iPod/i) ? !0 : !1 }, IsIPad: function () { return navigator.userAgent.match(/iPad/i) ? !0 : !1 }, IsIEMobile: function () { return navigator.userAgent.match(/IEMobile/i) ? !0 : !1 }, IsIE: function () { return navigator.userAgent.match("MSIE") ? !0 : !1 }, BrowserVersion: function () { var b, a = navigator.userAgent.toLowerCase(); return (b = a.match(/msie ([\d.]+)/)) ? b = b[1] : (b = a.match(/firefox\/([\d.]+)/)) ? b = b[1] : (b = a.match(/chrome\/([\d.]+)/)) ? b = b[1] : (b = a.match(/opera.([\d.]+)/)) ? b = b[1] : (b = a.match(/version\/([\d.]+).*safari/)) ? b = b[1] : 0, b }, IsBlackBerry: function () { return navigator.userAgent.match(/BlackBerry/i) ? !0 : !1 }, IsMobile: function () { return Cmn.Func.IsAndroid() || Cmn.Func.IsIOS() || Cmn.Func.IsIEMobile() || Cmn.Func.IsBlackBerry() }, IsWeiXin: function () { return navigator.userAgent.match(/MicroMessenger/i) ? !0 : !1 } }), Cg.Extend(Cg.Func.Cookie = {}, { Set: function (b, c, d, e, f, g) { var i, h = new Date; e = e || 3, h.setDate(h.getDate() + e), d = d || Cmn.Func.GetMainDomain(a.location.href), f = f || "/", i = b + "=" + encodeURI(c) + (h ? ";expires=" + h.toGMTString() : "") + (f ? ";path=" + f : "") + (d ? ";domain=" + d : "") + (g ? ";secure" : ""), document.cookie = i }, Get: function (a) { var b, c; return document.cookie.length > 0 && (b = document.cookie.indexOf(a + "="), -1 != b) ? (b = b + a.length + 1, c = document.cookie.indexOf(";", b), -1 == c && (c = document.cookie.length), decodeURI(document.cookie.substring(b, c))) : "" } }), void 0) : (Cg.alert("请引用jQuery，或者jquery 引用顺序有误！请检查！"), void 0) }(window), function () { "use strict"; var c = function (a) { var b = new RegExp(this.Regular); return b.test(a) }; Cg.Extend({ NewCheckInfo: function (a, b, c) { return { Regular: a, ErrMsg: b, RequiredErrMsg: c } }, CheckValid: function (a, b) { if (a.RequiredErrMsg && "" != a.RequiredErrMsg && "" == Cmn.Func.Trim(b)) return a.RequiredErrMsg; var c = new RegExp(a.Regular.Regular); return c.test(b) ? !0 : a.ErrMsg && "" != a.ErrMsg ? a.ErrMsg : a.Regular.ErrMsg }, Regular: { Email: { Regular: "^w+((-w+)|(.w+))*@w+((.|-)w+)*.w+$", ErrMsg: "请输入正确的Email地址！", Test: c }, MobilePhone: { Regular: "^1[0-9]{10}$", ErrMsg: "请输入正确的手机号码！", Test: c } }, VerifyWay: { Tel: /\_d{3}-\d{8}|\d{4}-\d{7}/, Phone: /^1\d{10}$/, IsInt: /^(-|\+)?\d+$/, DateTime: function (a) { var c, b = a.match(/^(\d{4})(-|\/)(\d{1,2})\2(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})$/); return null == b ? !1 : (c = new Date(b[1], b[3] - 1, b[4], b[5], b[6], b[7]), c.getFullYear() == b[1] && c.getMonth() + 1 == b[3] && c.getDate() == b[4] && c.getHours() == b[5] && c.getMinutes() == b[6] && c.getSeconds() == b[7]) }, Date: function (a) { var c, b = a.match(/^(\d{4})(-|\/)(\d{1,2})\2(\d{1,2})$/); return null == b ? !1 : (c = new Date(b[1], b[3] - 1, b[4]), c.getFullYear() == b[1] && c.getMonth() + 1 == b[3] && c.getDate() == b[4]) }, Email: /^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/, QQ: /[1-9][0-9]{4,}/, IdCard: /\d{15}|\d{18}/, NotEmpty: function (a) { return a ? !0 : !1 } }, VerifyValid: function (a, b) { return Cg.IsType(a, "string") && "" != a && (a = this.VerifyWay[a]), Cg.IsType(a, "regexp") ? a.test(b) : Cg.IsType(a, "function") ? a(b) : !1 } }) }(window), function (a, b) { "use strict"; var c = function () { var c = b, d = b, f = 0, g = navigator.userAgent, h = 0, i = this; return a.webkitRequestAnimationFrame && (d = function (a) { a === b && (a = +new Date), i.callback(a) }, c = a.webkitRequestAnimationFrame, a.webkitRequestAnimationFrame = function (a, b) { i.callback = a, c(d, b) }), a.mozRequestAnimationFrame && (h = g.indexOf("rv:"), -1 != g.indexOf("Gecko") && (f = g.substr(h + 3, 3), "2.0" === f && (a.mozRequestAnimationFrame = b))), a.requestAnimationFrame || a.webkitRequestAnimationFrame || a.mozRequestAnimationFrame || a.oRequestAnimationFrame || a.msRequestAnimationFrame || function (b) { var d, e; a.setTimeout(function () { d = +new Date, b(d), e = +new Date, i.timeout = 1e3 / 60 - (e - d) }, i.timeout) } }(), d = a.cancelRequestAnimationFrame || a.webkitCancelAnimationFrame || a.webkitCancelRequestAnimationFrame || a.mozCancelRequestAnimationFrame || a.oCancelRequestAnimationFrame || a.msCancelRequestAnimationFrame || a.clearTimeout; Cg.Extend(Cg.Animate = {}, { BrowserFrame: { RequestAnimateFrame: function (a) { return c(a) }, CancelRequestAnimateFrame: function (a) { d(a) } }, Timeline: { TimelineEvent: null, TimelineOnlyKey: null, EventHeaderCfgList: {}, Add: function (a, b) { null == this.TimelineEvent && (this.TimelineEvent = new Cg.Event(this)); var c = "timeline_" + Cg.GetUUID(); return this.TimelineEvent.Add(a, c), this.EventHeaderCfgList[c] = { Key: c, IsMonitor: !0, Then: Date.now(), Interval: b }, null == this.TimelineOnlyKey && this.Monitor(), this }, Monitor: function () { var a = this, b = null, c = null, d = function () { a.TimelineOnlyKey = Cg.Animate.BrowserFrame.RequestAnimateFrame(d), null != a.TimelineEvent && $.each(a.EventHeaderCfgList, function () { var d = this; d.IsMonitor && (d.Interval ? (b = Date.now(), c = b - d.Then, c > d.Interval && (d.Then = b - c % d.Interval, a.TimelineEvent.Trigger(d.Key))) : a.TimelineEvent.Trigger(d.Key)) }) }; Cg.Animate.BrowserFrame.RequestAnimateFrame(d) }, Close: function () { Cg.Animate.BrowserFrame.CancelRequestAnimateFrame(this.TimelineOnlyKey) }, Start: function (a) { return arguments.length > 0 ? this.EventHeaderCfgList[a["__cg_eventHandleKey"]].IsMonitor = !0 : $.each(this.EventHeaderCfgList, function () { this.IsMonitor = !0 }), this }, Stop: function (a) { arguments.length > 0 ? this.EventHeaderCfgList[a["__cg_eventHandleKey"]].IsMonitor = !1 : $.each(this.EventHeaderCfgList, function () { this.IsMonitor = !1 }) }, Remove: function (a) { return null != this.TimelineEvent && (arguments.length > 0 ? (this.TimelineEvent.Remove(a), a["__cg_eventHandleKey"] && delete this.EventHeaderCfgList["__cg_eventHandleKey"]) : (this.TimelineEvent.Remove(), this.EventHeaderCfgList = {})), this }, RemoveAll: function () { return this.Remove(), this } } }) }(window), Cg.ErrMsg = function (a, b) { this.Msg = a, this.ErrMsg = a, this.ErrCode = b }, function (a) { if (Cmn.PageLockPassWord = "123", Cmn.PageIsLock = !1, !$) return Cg.alert("请引用jquery!"), void 0; if (a.Get("PageLockPwdInput") !== Cmn.PageLockPassWord) { var b = $("<div><div>").css({ "z-index": "999", width: "100%", height: "100%", position: "fixed", top: "0px", "line-height": " 150px", "text-align": "center", background: "#000" }).append("<input type='tel' style='border:1px solid #fff;position:absolute;top:50%;width:200px;height:50px;line-height:50px;left:50%;margin-left:-100px;font-size:28px;color:#000;background:#fff;' class=\"cmn-PageLockPwdInput\" placeholder=\"请输入密码访问\" />"); $(function () { Cmn.PageIsLock && (b.find(".cmn-PageLockPwdInput").off("keyup").on("keyup", function () { $(this).val() == Cmn.PageLockPassWord && b.fadeOut(300, function () { a.Set("PageLockPwdInput", Cmn.PageLockPassWord, 1e3) }) }), $("body").append(b)) }) } }(Cmn.Func.Cookie);